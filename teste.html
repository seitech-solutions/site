<div id="reader" style="width:300px;"></div>
<select id="loja"></select>

<script src="https://unpkg.com/html5-qrcode"></script>
<script>
const selectLoja = document.getElementById("loja");

// Inicializa o scanner
function iniciarScanner() {
  const html5QrcodeScanner = new Html5Qrcode("reader");
  html5QrcodeScanner.start(
    { facingMode: "environment" },
    { fps: 10, qrbox: 250 },
    qrCodeMessage => {
      // Quando lÃª o QR, preenche o select
      for(let i=0; i<selectLoja.options.length; i++){
        if(selectLoja.options[i].value === qrCodeMessage){
          selectLoja.selectedIndex = i;
          break;
        }
      }
    },
    errorMessage => {
      // console.log('Sem QR Code', errorMessage);
    }
  );
}

iniciarScanner();
</script>
